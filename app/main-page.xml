<Page xmlns="http://schemas.nativescript.org/tns.xsd" navigatingTo="onNavigatingTo">
    <ActionBar title="{{ titleName }}" backgroundColor="#323219">
        <ActionItem>
            <Label text="{{ batteryLevel }}" class="info-label" />
        </ActionItem>
        <ActionItem>
            <Image src="{{ iconPath }}" width="28" height="38" />
        </ActionItem>
        <ActionItem>
            <Image src="" width="12"/>
        </ActionItem>
    </ActionBar>
    <GridLayout backgroundColor="#323219">
        <GridLayout rows="*,auto" >

            <!-- Navigation Pages -->
            <StackLayout id="toggleLayout" backgroundColor="#ccc" verticalAlignment="middle" horizontalAlignment="center">
                <Label id="weatherInfo" text="{{ weatherInfo }}" class="info-label" textWrap="true" width="250" />
            </StackLayout>

            <GridLayout id="searchLocationPage" backgroundColor="#03396c" visibility="{{ searchLocationVisible }}" rows="auto, *" columns="*">
            <!-- Button in the first row -->
            <Button row="0" col="0" text="Get Weather" tap="{{ onGetWeather }}" class="btn btn-primary btn-active" />

            <!-- Label in the second row, centered -->
            <StackLayout row="1" col="0" horizontalAlignment="center" verticalAlignment="middle">
                <Label id="weatherInfo" text="{{ weatherInfo }}" class="info-label" textWrap="true" width="250" horizontalAlignment="center" />
            </StackLayout>
        </GridLayout>

            <StackLayout id="settingLocationPage" backgroundColor="#ccc"  visibility="{{ settingsLocationVisible }}">
                <!-- Right Page -->
            </StackLayout>

            <!-- Navigation Bar -->
            <GridLayout row="1" columns="*,*,*" height="80">
                <StackLayout col="0" marginTop="5"  tap="{{ onLocationCheckTap }}" backgroundColor="{{ locationCheckBgColor }}">
                    <Image src="~/assets/search-location.png" width="28" height="38"></Image>
                    <Label text="Location Check" textAlignment="center" fontSize="10"></Label>
                </StackLayout>
                <StackLayout col="1" marginTop="5">
                    <Label text="Current Location" textAlignment="center" fontSize="10" marginTop="38"></Label>
                </StackLayout>
                <StackLayout col="2" marginTop="5" tap="{{ onSettingsTap }}" backgroundColor="{{ settingsBgColor }}">
                    <Image src="~/assets/settings.png" width="28" height="38"></Image>
                    <Label text="Settings" textAlignment="center" fontSize="10"></Label>
                </StackLayout>
            </GridLayout>
        </GridLayout>

        <!-- Floating Main Button -->
        <GridLayout borderRadius="50%" width="85" height="85" backgroundColor="#ffffff"
            verticalAlignment="bottom" horizontalAlignment="center" marginBottom="35" tap="{{ onMainPageTap }}">
            <Image src="~/assets/hsr.png" stretch="aspectFill" 
                verticalAlignment="center" horizontalAlignment="center"></Image>
        </GridLayout>

    </GridLayout>
</Page>